import sys
sys.stdin = open("14500in.txt",'r')

import sys
n,m = map(int,sys.stdin.readline().split())
li = list( list( map(int,sys.stdin.readline().split())) + [0,0,0] for _ in range(n) )
li.append([0]*(m+3))
li.append([0]*(m+3))
li.append([0]*(m+3))
te = [
    [[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],
    [[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],
    [[1,1,0,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],
    [[1,1,1,0],[1,0,0,0],[0,0,0,0],[0,0,0,0]],
    [[1,0,0,0],[1,0,0,0],[1,1,0,0],[0,0,0,0]],
    [[0,0,1,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],
    [[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],
    [[0,1,0,0],[0,1,0,0],[1,1,0,0],[0,0,0,0]],
    [[1,1,1,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],
    [[1,1,0,0],[1,0,0,0],[1,0,0,0],[0,0,0,0]],
    [[1,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],
    [[1,0,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],
    [[0,1,1,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],
    [[1,1,0,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]],
    [[0,1,0,0],[1,1,0,0],[1,0,0,0],[0,0,0,0]],
    [[1,1,1,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],
    [[1,0,0,0],[1,1,0,0],[1,0,0,0],[0,0,0,0]],
    [[0,1,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],
    [[0,1,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]]
    ]
ans = 0
for i in range(len(te)):
    tet = te[i]
    for y in range(n):
        for x in range(m):
            res = 0
            for Y in range(4):
                for X in range(4):
                    if tet[Y][X]:
                        res += li[y+Y][x+X]
            if res > ans:
                ans = res
print(ans)