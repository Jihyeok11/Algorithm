<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1><span id="order">1</span>번 참가자</h1>
    <h4>
        <div>
            제시어 : <span id="word"></span>
        </div>
    </h4>
    <input type="text" name="" id="">
    <button>입력</button>


</body>

<script>
    let $word = document.querySelector("#word")
    let $input = document.querySelector("input")
    let $order = document.querySelector("#order")
    let number = parseInt(prompt("몇 명이서 끝말잇기를 하나요?"))
    let keyWord;
    const inputWord = (event) => {
        newWord = event.target.value;
    }
    const clickButton = () => {
        keyWord = $word.textContent
        order = parseInt($order.textContent)
        if (newWord.length == 3 && (!keyWord || keyWord[keyWord.length -1] == newWord[0])) {
            $word.textContent = newWord;
            $input.value = "";
            $input.focus();
            $order.textContent = order + 1
            if (order >= number){
                $order.textContent = 1
            }
        } else{
            if (!keyWord){
                alert("세 글자를 입력해주세요")
            }else{
                alert("제시어를 잘 보고 세 글자를 입력해주세요")
            }
        }

    }
    document.querySelector("button").addEventListener("click", clickButton);
    document.querySelector("input").addEventListener("input", inputWord);

</script>

</html>